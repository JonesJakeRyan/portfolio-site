<!-- templates/base.html -->
<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{% block title %}Portfolio{% endblock %}</title>

    <!-- Tailwind CDN (no config files) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: { extend: {} },
        darkMode: 'class',
      }
    </script>

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  </head>
  <body class="h-full bg-neutral-950 text-neutral-200" hx-boost="true">
    <header class="sticky top-0 z-10 border-b border-neutral-900 bg-neutral-950/80 backdrop-blur">
      <div class="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between">
        <a href="/" class="text-lg font-semibold">Jones Data &amp; Software</a>

        <nav class="flex gap-6 text-sm text-neutral-400 relative">
          <!-- Financial Portfolio dropdown -->
          <div class="group relative">
            <a href="/" class="hover:text-neutral-200 flex items-center gap-1
               {% if request.url.path == '/' or request.url.path.startswith('/reports') %}
                 text-neutral-200 font-medium border-b-2 border-blue-500
               {% endif %}">
              Financial Portfolio
              <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 transition-transform group-hover:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </a>
            <!-- Dropdown menu (no vertical gap; pinned to trigger) -->
            <div
              class="absolute left-0 top-full w-48 rounded-lg border border-neutral-800 bg-neutral-900 shadow-lg
                     invisible opacity-0 translate-y-1 transition
                     group-hover:visible group-hover:opacity-100 group-hover:translate-y-0"
            >
              <a href="/"
                 class="block px-4 py-2 hover:bg-neutral-800
                   {% if request.url.path == '/' %}text-neutral-200 font-medium{% endif %}">
                 Dashboard
              </a>
              <a href="/reports"
                 class="block px-4 py-2 hover:bg-neutral-800
                   {% if request.url.path.startswith('/reports') %}text-neutral-200 font-medium{% endif %}">
                 Swing Reports
              </a>
            </div>
          </div>

          <!-- Other top-level nav -->
          <a href="/about"
             class="hover:text-neutral-200 {% if request.url.path.startswith('/about') %}text-neutral-200 font-medium border-b-2 border-blue-500{% endif %}">
             About
          </a>
        </nav>
      </div>
    </header>

    <main id="main" class="mx-auto max-w-6xl px-4 py-6">
      {% block content %}{% endblock %}
    </main>

    <footer class="border-t border-neutral-900 py-6 text-center text-xs text-neutral-500">
      Â© {{ request.url.hostname or 'localhost' }}
    </footer>
  </body>
</html>
