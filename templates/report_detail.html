{% extends "base.html" %}
{% block title %}{{ item.title or item.slug }} â€” Reports{% endblock %}

{% block content %}
  <h1 class="mb-4 text-2xl font-semibold">{{ item.title or item.slug }}</h1>

  {% if content_html %}
    <div class="prose prose-invert max-w-none">{{ content_html | safe }}</div>

  {% elif is_csv %}
    <div class="overflow-x-auto rounded-xl border border-neutral-800">
      <table class="min-w-full text-sm">
        <thead class="bg-neutral-900/70">
          <tr class="text-left text-neutral-300">
            {% for c in csv_cols %}<th class="px-3 py-2 font-semibold">{{ c }}</th>{% endfor %}
          </tr>
        </thead>
        <tbody class="divide-y divide-neutral-900">
          {% for r in csv_rows %}
            <tr class="hover:bg-neutral-900/40">
              {% for c in csv_cols %}<td class="px-3 py-2 text-neutral-200">{{ r[c] }}</td>{% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  {% elif embed_src %}
    <div class="rounded-xl border border-neutral-800 bg-neutral-950/60 p-2">
      <iframe src="{{ embed_src }}" style="width:100%;height:80vh;border:0;border-radius:12px;"></iframe>
    </div>

  {% else %}
    <p class="text-neutral-400">No preview available.</p>
  {% endif %}
{% endblock %}
